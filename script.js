async function fetchJSON(path){const res=await fetch(path);if(!res.ok)throw new Error(`Failed to load ${path}`);return await res.json()} function copyText(btn,text){navigator.clipboard.writeText(text).then(()=>{const prevText=btn.textContent;btn.textContent='‚úÖ „Ç≥„Éî„ÉºÊ∏à„Åø';setTimeout(()=>{btn.textContent=prevText},1500)})} function renderList(id,data,isSns=!1,isNews=!1){const ul=document.getElementById(id);ul.innerHTML='';data.forEach(item=>{const li=document.createElement('li');if(isSns){li.innerHTML=`${item.emoji} <strong>${item.service}</strong>: <span class="id">${item.id}</span> <button onclick="copyText(this,'${item.copy}')">„Ç≥„Éî„Éº</button>`}else if(isNews){li.textContent=`${item.emoji} [${item.date}] ${item.text}`}else{li.innerHTML=`${item.emoji} <a href="${item.url}" target="_blank" rel="noopener noreferrer">${item.name}</a>`} ul.appendChild(li)})} const text="„Çè„Åü„ÅÇ„ÇÅ„Åà - Ëá™Â∑±Á¥π‰ªã„Éö„Éº„Ç∏";const typewriterElem=document.getElementById("typewriter");let index=0;function typeWriter(){if(index<text.length){typewriterElem.textContent+=text.charAt(index);index++;setTimeout(typeWriter,120)}} typeWriter();const darkToggle=document.getElementById("darkModeToggle");darkToggle.addEventListener("click",()=>{if(document.documentElement.getAttribute("data-theme")==="dark"){document.documentElement.removeAttribute("data-theme");darkToggle.textContent="üåô"}else{document.documentElement.setAttribute("data-theme","dark");darkToggle.textContent="‚òÄÔ∏è"}});const faders=document.querySelectorAll(".fade-in-scroll");const appearOptions={threshold:0,rootMargin:"0px 0px -50px 0px",};const appearOnScroll=new IntersectionObserver(function(entries,appearOnScroll){entries.forEach(entry=>{if(!entry.isIntersecting)return;entry.target.classList.add("visible");appearOnScroll.unobserve(entry.target)})},appearOptions);faders.forEach(fader=>{appearOnScroll.observe(fader)});const scrollBtn=document.getElementById("scrollTopBtn");window.addEventListener("scroll",()=>{if(window.scrollY>200){scrollBtn.classList.add("visible")}else{scrollBtn.classList.remove("visible")}});scrollBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});async function init(){try{const sns=await fetchJSON('./sns.json');renderList('sns-list',sns,!0);const news=await fetchJSON('./news.json');renderList('news-list',news,!1,!0);const sites=await fetchJSON('./sites.json');renderList('site-list',sites)}catch(e){console.error(e)}} init()
